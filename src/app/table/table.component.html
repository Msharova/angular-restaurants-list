<mat-form-field appearance="standard"  class="filter-header">
  <mat-label>Filter by substring</mat-label>
  <input matInput (keyup)="applyFilter($event)" placeholder="Filter by substring" #input />
</mat-form-field>

<mat-table
  [dataSource]="dataSource"
  multiTemplateDataRows
  matSort
  (matSortChange)="announceSortChange($event)"
  class="mat-elevation-z8"
>
  <!-- Autogenerated columns based on columnsToDisplay -->
  <ng-container
    matColumnDef="{{ column }}"
    *ngFor="let column of columnsToDisplay"
  >
    <mat-header-cell *matHeaderCellDef mat-sort-header>
      {{ column }}
    </mat-header-cell>
    <mat-cell *matCellDef="let venue"> {{ venue[column] }} </mat-cell>
  </ng-container>

  <!-- Expanded Content Column - The detail row is made up of this one column that spans across all columns -->
  <ng-container matColumnDef="expandedDetail">
    <mat-cell *matCellDef="let venue">
      <div
        class="venue-detail"
        [@detailExpand]="venue == expandedVenue ? 'expanded' : 'collapsed'"
      >
        <div class="container">
          <div class="row">
            <div class="col">
              <span [innerHTML]="venue.mainpic | sanitizedHtml"></span>
            </div>

            <div class="col venue-description">
              <b>Name:</b> {{ venue.title }}
              <br>
              <b>Address:</b> {{venue.address}} {{venue.postcode}} {{venue.city}} Netherlands
              <br>
              <b>URL: </b><span [innerHTML]="venue.mainurl | sanitizedHtml"></span>
            </div>
            
          </div>
        </div>
      </div>
    </mat-cell>
  </ng-container>

  <!-- Our actual table -->
  <mat-header-row *matHeaderRowDef="columnsToDisplay"></mat-header-row>
  <mat-row
    *matRowDef="let venue; columns: columnsToDisplay"
    class="venue-row"
    [class.expanded-row]="expandedVenue === venue"
    (click)="expandedVenue = expandedVenue === venue ? null : venue"
  >
  </mat-row>
  <mat-row
    *matRowDef="let row; columns: ['expandedDetail']"
    class="detail-row"
  ></mat-row>
</mat-table>
